import os
from pathlib import Path

# API Configuration
API_KEY = os.environ.get('UCSB_API_KEY', '')
API_DATE = "20261"  # Winter 2026

# Cache Configuration
CACHE_DIR = Path("cache")
CACHE_DIR.mkdir(exist_ok=True)

# Course Data
DEPT_CODES = [
    ["ANTH", ["00018", "00232", "00398", "00406", "00414", "00422", "54676", "52753", "00448", "00455", "52746", "52738", "00463", "52712", "00471", "00489", "00497", "00505", "00513", "00521", "00539", "57638", "53454", "00554", "00562", "00570"]],
    ["AS AM", ["57737", "57901", "57919", "61432", "58156", "58032", "58040", "58073", "58057", "02006", "02014"]],
    ["ASTRO", ["02048", "02071", "02089", "52605", "52613", "61507", "61515"]],
    ["BIOE", ["02097"]],
    ["BIOL", ["53082", "02212", "02220"]],
    ["ART", ["54049", "00737", "00786", "54247", "00794", "54254", "54262", "54270", "01008", "01016", "54288", "01024", "53041", "54296", "01032", "00851", "54304", "54312", "57166", "00893", "00901", "00919", "00927", "00935"]],
    ["ARTHI", ["01115", "01214", "01289", "52126", "52175", "52183", "52191", "55723", "52225", "52233", "61424", "52241", "52258", "01487", "01495", "01503", "01511", "01529", "01537", "01545"]],
    ["BL ST", ["61234", "02394", "61283", "02436", "02535", "61275", "02550", "62406", "61341", "02568", "61358", "61382", "02600", "02626", "61325", "61333", "02659", "02667", "63230", "02675", "02683", "02691"]],
    ["CH E", ["03277", "03285", "03293", "03301", "03319", "03327", "03335", "54940", "54502", "03368", "03376", "03384", "03392", "03400", "03418", "03426"]],
    ["CHEM", ["04135", "04267", "04390", "53322", "04523", "04531", "04549", "04556", "04564", "04572", "04580", "04598", "04606", "04614", "04622", "04630", "04648", "04655", "04663", "04671", "04689", "04697", "04705", "04713", "04721", "04739", "04747", "04754", "04762", "04770", "04788", "04796", "04804", "04812", "04820", "04838", "04846", "04853", "04861", "04879", "04887", "04895", "04903", "04911", "04929", "04937", "04945", "04952", "04960", "04978", "04986", "04994", "05009", "05017", "05025", "05033", "05041", "05058", "05066", "05074", "05082", "05090", "73692", "73700", "73718", "73726", "54924", "62661", "62679", "62687", "62695", "62703", "62711", "62729", "62737", "62745", "62752", "62760", "05108", "05116", "54932", "62778", "05124", "05132", "05140", "05157", "05165", "05173", "05181", "05199", "05207", "05215", "05223", "05231", "05249", "05256", "05264", "05272", "05280", "05298", "05306", "05314", "05322", "05330", "05348", "05355", "05363", "73106", "73114", "73122", "73130", "05371", "06064", "65763", "66779", "05389", "05397", "05405", "05413", "05421", "06080", "05439", "05447", "05454", "54734", "05462", "05470", "05488", "05496", "05512", "05520", "54742", "54775", "05546", "05553", "05561", "05579", "05587", "05595", "05603", "05611", "05629", "54791", "05637", "05645", "05652", "05660", "05678", "59220", "05694", "05702", "05710", "05728", "05736", "66100", "72702", "54817", "05751", "54833", "60129", "05769", "05777", "05785", "05793", "54908", "54916", "62786", "62794", "05801", "05819", "05827", "65771", "65789", "05835", "05850", "05868"]],
    ["C LIT", ["60558", "60608", "02840", "60640", "02915", "02949", "02964", "60665", "60681", "60731", "61457", "60749", "60756", "60764", "03038", "60780", "03053", "03061", "03079", "03087", "03103", "03129", "03137"]],
    ["CMPSC", ["06684", "06692", "06700", "06718", "06726", "06742", "06767", "06775", "06783", "54338", "54346", "54353", "54361", "06817", "06841", "06858", "06866", "06874", "06908", "06932", "06940", "06957", "54403", "54411", "54429", "06965", "06999", "07005", "07013", "54460", "54478", "07021", "07039", "07047", "07054", "07062", "07070", "07088", "07096", "07104", "07120", "07138", "07146", "07153", "07161", "07187", "07195", "07203", "07211", "07229", "07237", "07245", "07252", "07260", "07278", "07286", "07294", "07302", "07310", "54544", "54551", "07328", "07336", "07344", "07351", "07369", "07377", "07385", "07393", "07401", "07419", "07427", "07435", "07443", "07450", "54569", "54577", "54585", "54593", "54601", "07468", "07476", "07484", "07492", "54619", "07500", "07518", "07526", "07534", "07542", "07559", "07567", "07575", "07583", "07591", "07609", "07617", "07625", "07633", "54635", "54643", "07641", "07658", "07666", "07674", "07682", "07690", "07740", "55442", "55459", "55467", "07781", "07799", "07807", "07815", "07823"]],
    ["DANCE", ["09555", "62893", "09571", "09589", "09605", "61994", "09613", "58883", "09621", "09639", "09654", "74179", "09688", "09696", "58909", "09712", "09720", "09738", "09746", "09753", "09761", "09795", "74187", "09829", "09837", "09845", "09852", "09860", "09878", "09886", "09894", "09902"]],
    ["CH ST", ["03558", "03566", "03574", "03582", "03590", "03616", "03624", "03632", "03665", "03681", "03699", "03707", "03715", "03723", "03731", "03749", "03756", "03772", "03780", "03798", "03806", "03830", "03905", "03913", "03921", "03939", "03947", "03954", "53512", "03962", "03970", "03988", "03996", "51409", "51417", "53728", "04028"]],
    ["CHIN", ["06098", "06106", "06114", "06122", "51995", "52001", "52019", "52027", "56481", "56499", "56507", "06148", "52043", "52050", "06163", "06171"]],
    ["CLASS", ["60913", "06239", "61168", "06247", "06254", "06262", "06270", "06288", "06296", "06304", "06312", "06320", "06338", "06346", "06353", "06361", "06379", "06387", "06395", "06403", "06411", "06429", "06437", "06445", "06452", "06460", "06478", "06486", "06494", "06502", "06510", "60939", "60970", "06551", "06569", "06577", "06585", "06593"]],
    ["CMPTG", ["08045", "08052", "08060", "08078", "08094", "08102", "53058", "75457"]],
    ["CNCSP", ["08128", "08136", "08144", "08151", "08169", "08177", "08185", "08193", "08201", "08219", "08227", "08235", "08243", "08250", "08268", "08276", "08284", "08292", "08300", "08318", "08326", "08334", "08342", "08359", "08367", "08375", "08383", "08391", "08409", "08425", "08433", "08441", "59824", "08458", "08466"]],
    ["EARTH", ["10280", "10298", "10306", "10314", "10322", "10330", "10348", "10355", "10363", "10371", "10389", "10397", "10405", "10413", "10421", "10439", "10447", "10454", "10462", "10470", "10488", "10496", "10504", "10512", "10520", "10538", "10546", "10553", "10561", "10579", "10587", "10595", "10603", "10652", "10660", "10678", "10686", "10694", "10702", "10710", "10728", "10736", "10744", "11486", "11494", "11502", "11510", "11528", "11536", "11544", "11551", "11569", "11577", "57497", "57489", "57505", "57513", "57521", "57539", "57588", "57596", "10793", "10801", "10819", "10827", "10850", "10868", "10876", "10884", "10892", "10900", "10918", "10926", "10934", "10942", "10959", "57281", "57299", "11080", "57380", "57398", "57406", "57414", "57422", "57430", "57448", "57455", "57349", "57356", "57364", "57372", "11114", "11122", "11130", "11148", "11189", "11197", "11205", "11213", "11221", "11239", "11247"]],
    ["EACS", ["10017", "10025", "10033", "10041", "10058", "10066", "10074", "10082", "10090", "10108", "10116", "10124", "10132", "10140", "10157", "10165", "52274", "56408", "56390", "56416", "56424", "56432", "56440", "56457", "56465", "56473", "56515", "56523", "56531", "56549", "56556", "56564", "56572", "56580", "56598", "56606", "56614", "56622", "56630", "75176", "75184", "75200", "10173", "52282", "62430", "52290", "52308", "10215", "10223"]],
    ["EEMB", ["16303", "16311", "16329", "16337", "57885", "57893", "16360", "16378", "57703", "16394", "16402", "16410", "16428", "16436", "16444", "16451", "16469", "16477", "16493", "16501", "16519", "16527", "16535", "16543", "16550", "16568", "16576", "16600", "16618", "16626", "16634", "16642", "16659", "16667", "16675", "16683", "16691", "16709", "16717", "16725", "16733", "16766", "16774", "16782", "16790", "16808", "16816", "16824", "16832", "16840", "16857", "16865", "16873", "16881", "16899", "16907", "16915", "16923", "16931", "16949", "16956", "16964", "16972", "16980", "16998", "17004", "17012", "17038", "17046", "17871", "17889", "17897", "17905", "17921", "17939", "17053", "17061", "17079", "17087", "17095", "17103", "17111", "17129", "75234", "17194", "17202", "17210", "17228", "17236", "17244", "17251", "17269", "17277", "17285", "17293", "17301", "17319", "17327", "57711", "57729", "57935", "57943", "57950", "17335", "17343", "17368", "17376", "17384", "17392", "17400", "17418", "17434", "17442", "17459", "17467", "78519", "17475", "17483", "17491", "17509", "17517", "17525", "17533", "17541"]],
    ["ECON", ["12948", "12955", "12963", "12971", "12989", "12997", "13003", "13011", "13029", "13037", "13045", "13052", "13060", "13078", "13086", "13094", "13102", "13110", "13128", "13136", "13144", "13151", "13169", "13177", "13185", "13193", "13201", "13219", "13227", "13235", "13243", "13250", "13268", "13276", "13284", "13292", "13300", "13318", "13326", "13334", "13342", "13359", "13367", "13375", "13383", "13391", "13409", "13417", "13425", "13433", "13441", "13458", "13466", "13474", "13482", "13490", "13508", "13516", "13524", "13532", "13540", "13557", "13664", "13672", "13680", "13698", "13706", "13714", "13722", "13730", "13748", "13755", "13763", "13771", "13789", "53751", "53744", "13805", "13813", "13821", "13839", "13847", "13854", "13862", "13870", "13888", "13912", "13920", "13938", "13946", "13953", "13961", "13979", "13987", "13995", "14001", "14019", "53777", "53769", "53785", "53793", "14035", "14100", "14118", "14126", "75382", "14134", "14159", "14167", "53801", "14175", "14183", "14191", "14209", "14217", "53819", "14225", "14233", "14241", "14258", "14266", "14274", "14282", "14290", "14308", "14316", "14324", "14332", "14340", "14357", "14365", "14373", "14381", "14399", "14407", "14415", "14423", "57463", "75390", "14431", "14456", "14464", "14472", "14480", "14498", "14506", "14514", "14522", "14530", "14548", "53827", "14555", "14563", "14571", "14589", "14597", "14605", "14613", "53835", "14621", "53850", "14639", "14647", "14654", "14662", "53868", "14670", "14688", "14696", "62422", "14704", "14712", "14720"]],
    ["ED", ["15016", "15024", "15032", "15040", "15057", "15065", "15081", "15099", "16204", "15115", "15123", "15131", "15149", "15156", "15164", "15172", "15180", "15198", "15206", "15214", "15222", "15230", "15248", "15255", "15263", "15271", "15289", "60335", "15297", "15305", "15313", "15321", "15339", "15347", "15354", "15362", "15370", "15388", "15396", "15404", "15412", "15420", "15438", "15446", "15461", "15479"]],
    ["ECE", ["11585", "11593", "11601", "11619", "11627", "11635", "11643", "11650", "11668", "11676", "11684", "11692", "11700", "11718", "11726", "11734", "11742", "11759", "11767", "11775", "11783", "11791", "11809", "11817", "11825", "11833", "11841", "11858", "11866", "11874", "11882", "11890", "11932", "11940", "11957", "11965", "11973", "11981", "52654", "52662", "57158", "12047", "12054", "12062", "12070", "12088", "12096", "12120", "12138", "12146", "12153", "12161", "12179", "12187", "12195", "12203", "12211", "12229", "12237", "12245", "12252", "12260", "12278", "12286", "12294", "12302", "12310", "12328", "12336", "63263", "52696", "52704", "12344", "12351", "12369", "12377", "12385", "12393", "12401", "12419", "12427", "12435", "12443", "12476", "12484", "12492", "12500", "12518", "12526", "62612", "12542", "12559", "12567"]],
    ["ENGL", ["17947", "17954", "51516", "17962", "59667", "17988", "51573", "18051", "18168", "55673", "52571", "52621", "51706", "51714", "51722", "51730", "51748", "18473", "52878", "55681", "18481", "52597", "18515", "52886", "55699", "52639", "52894", "52902", "52837", "62356", "51862", "18655", "18663", "18671", "18689", "18697", "18705", "18713", "18721", "18739", "51805", "51813", "51821", "51839", "18747", "18754", "18762", "52845", "52852", "18812", "18820"]],
    ["ENV S", ["18978", "18986", "18994", "19000", "19018", "19026", "19034", "19042", "19059", "19067", "19075", "19083", "19091", "19109", "19117", "19125", "19133", "19141", "19158", "19166", "19174", "19182", "19190", "19208", "19216", "19224", "19232", "19240", "19257", "19265", "19273", "19281", "19299", "19307", "19315", "19323", "19331", "19349", "19356", "19364", "19372", "19380", "19398", "19414", "19422", "19430", "19455", "19471", "19489", "19497", "19505", "19513", "19521", "19539", "19547", "19554", "19562", "19570", "19588", "19596", "19604", "63248", "54072", "54080", "54098", "54106", "54114", "19612", "19620", "19638", "19711", "19729", "19745", "19836", "19844", "19851", "19869", "19877", "19885", "19893", "54122", "54130", "54148", "19943", "19950", "19968", "19976", "19984", "19992", "20008", "20016", "20024", "20032", "20040", "20057", "20065", "20073", "54155", "54163", "54171", "54189", "54197", "54205", "54213", "54221", "20081", "20255", "20263", "60236", "20271", "20289", "55996", "56002", "56010", "20313", "20347", "20354", "20362", "20370"]],
    ["ENGR", ["18911", "18929", "18937", "18945", "18952", "18960"]],
    ["FAMST", ["21147", "21154", "21162", "21170", "21188", "21196", "21204", "75242", "75259", "75267", "21279", "56861", "21287", "21295", "21303", "21311", "21329", "21337", "21345", "21352", "21360", "21378", "21386", "21394", "21402", "21410", "21428", "55731", "55756", "55764", "55772", "55780", "55798", "55814", "21535", "21543", "21550", "21568", "21576", "21584", "21592", "21600", "57984", "55863", "21634", "55970", "56887", "55830", "21675", "61960", "55939", "68734", "62083", "55921", "21725", "21733", "21741", "21758", "21766", "21774", "21782", "21790", "21808", "21816", "21824", "21832", "21840"]],
    ["GEOG", ["22699", "22707", "22715", "22723", "22731", "22749", "22756", "22780", "22798", "22806", "22814", "22822", "22830", "22848", "22855", "22863", "22871", "49932", "49940", "49957", "49965", "49973", "49981", "49999", "23457", "23465", "23473", "23481", "23499", "23507", "23515", "23523", "22889", "22897", "22913", "22921", "22939", "22947", "22954", "22962", "50005", "50013", "50021", "22996", "23002", "23010", "23028", "23036", "73031", "50195", "50203", "50211", "23051", "23069", "50229", "50237", "50252", "50260", "23077", "50278", "50286", "50294", "57653", "57661", "62158", "62174", "62182", "62190", "62208", "62216", "62224", "62232", "23184", "23192", "23200", "23218", "73098", "23226", "23234", "23242", "50302", "50310", "23267", "23275", "23283"]],
    ["ESS", ["21022", "21048", "21055", "21063", "21071", "21089", "58164", "21097"]],
    ["ES", ["20412", "20420", "20438", "20446"]],
    ["FEMST", ["52316", "52324", "52332", "52340", "52357", "52365", "52373", "52381", "52399", "52407", "52415", "52423", "52431", "52449", "22137", "22145", "22152", "22160", "22178", "22186", "22194", "22202", "22210", "22228", "22269", "22285", "52456", "52464", "52480", "22293", "22301", "52472", "52498", "22335", "22343", "22350"]],
    ["FR", ["22442", "22459", "22475", "22483", "22533", "62877", "60863", "22558", "60889", "22582", "60905", "60921", "60947", "60988", "60996", "22616", "22624", "22632"]],
    ["GER", ["23531", "23549", "23564", "23572", "23580", "23598", "23606", "23614", "23622", "23630", "23648", "23655", "23663", "23671", "23689", "60848", "60855", "23721", "23739", "23747"]],
    ["GLOBL", ["23978", "24018", "24026", "24034", "24067", "24075", "24083", "24091", "24109", "24117", "24133", "24141", "24158", "24166", "24174", "24182", "24190", "24208", "24216", "24281", "24299", "24307", "24315", "56929", "56937", "24356", "60459", "24372", "24380", "24398"]],
    ["HIST", ["51086", "51094", "51102", "51110", "51128", "51136", "51144", "51151", "51169", "51177", "51185", "51193", "51201", "51219", "51235", "51243", "51268", "59261", "59287", "51276", "51284", "51292", "51300", "51318", "51326", "51334", "51342", "51359", "51367", "51375", "51383", "51391", "49775", "49783", "49791", "49809", "49817", "49825", "49833", "49841", "49858", "49866", "49874", "49882", "49890", "49908", "49916", "49924", "25007", "25015", "25023", "49767", "25031", "25049", "25056", "25064", "25072", "25080", "25098", "25106", "25114", "25122", "25130", "25148", "25155", "25163", "25171", "25189", "25197", "25205", "25213", "25221", "25239", "25247", "25254", "25262", "25270", "74229", "74237", "74245", "25353", "25387", "25395", "25403", "25411", "25437", "25445", "50047", "50039", "50054", "50062", "50070", "50088", "50096", "50104", "50112", "50120", "50138", "50146", "50153", "50161", "75168", "75192", "75200", "75218", "25650", "50245", "50401", "50419", "50450", "50476", "50492", "50526", "25775", "25825", "25809", "50567", "25700", "50765", "50773", "50799", "50807", "25874", "25882", "25890", "25908", "25916", "25924", "25932", "25940", "25957", "25965"]],
    ["INT", ["26153", "60152", "60145", "62091", "62059", "26195", "26203", "26237", "26245", "60160", "60178", "26294", "62638", "62018", "26310", "60186", "60194", "62380", "60202", "26377", "62026", "26435", "26443", "62398", "62109", "60327", "61564", "61572", "61580", "61598", "61606", "61614", "61622", "61630", "61648", "61655", "61663", "61671", "61689", "61697", "61705", "61713", "61721", "26492", "26500", "26518", "26526", "26534", "26542", "26559", "26567", "26575", "66720", "66738", "66746", "66753", "26583", "26914", "66464", "62414", "26641", "26658", "26666", "26674", "62042", "60244", "60269", "62034", "60285", "60293", "60301", "62372", "60319", "26757", "26765", "26773", "26781", "26799", "60541", "26807", "26815", "26823", "26831", "26849"]],
    ["LING", ["27789", "27797", "27805", "27813", "27821", "53025", "62992", "63008", "27839", "27847", "27854", "28548", "28555", "28563", "28571", "28589", "63271", "27870", "27912", "27920", "27938", "27946", "27953", "27961", "27979", "27987", "27995", "28001", "28019", "28027", "28035", "28043", "28050", "53900", "53892", "28068", "28076", "28084", "28092", "28100", "53918", "28118", "28126", "28134", "53926", "53934", "53942", "53959", "53967", "53975", "28233", "28241", "28258", "28266", "53983", "53991", "54007", "72710", "72306", "54015", "55111", "28282", "28308", "28316", "28324"]],
    ["GREEK", ["24505", "61036", "24539"]],
    ["HEB", ["24588"]],
    ["ITAL", ["27078", "27110", "27128", "27136", "61051", "61069", "27144", "61077", "61085", "27169", "61093", "61101", "61119", "27185", "61127", "61135", "61143", "61150", "63255", "67975", "27250", "27268", "27276"]],
    ["JAPAN", ["27300", "27318", "27326", "27334", "27359", "27367", "27383", "27391", "27409", "51847", "51797", "51698", "27425", "27433", "27441", "27458"]],
    ["KOR", ["27524", "27532", "27540", "27557", "27565"]],
    ["LATIN", ["27706", "27714", "61002", "27730"]],
    ["LAIS", ["56259", "56267", "27631", "27649", "27656"]]
    ["PHIL", ["37606", "37697", "37788", "37879", "37929", "55152", "55160", "55186", "38042", "55590", "55194", "55202", "38075", "55210", "55228", "38083", "38091", "55236", "38117", "38125", "38133", "38141", "38158", "38166"]],
    ["PSY",  ["43653", "43901", "43968", "44024", "44081", "44149", "44198", "44206", "56945", "44214", "44222", "56952", "44248", "44271", "44297", "57018", "57026", "57034", "44362", "44388", "57067", "63354", "57083", "44453", "44461", "57075", "44487", "57091", "44503", "44511", "44529", "44537", "44545", "44552", "44560"]],
    ["WRIT", ["48660", "48678", "48686", "48694", "48702", "48751", "48769", "48777", "48785", "48819", "48827", "48835", "48843", "48850", "48868", "48876", "48884", "48892", "48926", "48934", "48942", "48967", "48975", "48983", "48991", "49007", "49015", "51425", "51433", "51441", "60020", "60038", "75374", "51458", "49056", "49064", "49072", "49098", "49106", "49114", "49122", "49130", "49148", "49155", "49163", "49197", "51649", "60012", "51656", "49205", "51664", "49213", "49221", "49239", "49247", "49254", "49262", "51672", "51680", "51755", "49270", "51763", "49304", "49312", "51771", "51789", "49338", "49346", "49353", "49361", "51870", "49379", "49387", "51888", "51896", "49403", "51904", "51912", "51920", "49445", "49478", "49486", "51938", "49494", "79418", "79426", "49742", "58768", "58776", "49502", "49510", "49528", "51953", "51961", "51979", "49544", "49551", "49569", "49577", "49619", "49627", "63149", "49643", "49650", "49668", "49676", "49684", "49692", "49700"]],
    ["MATH", ["28878", "53124", "28944", "29108", "29215", "29421", "29579", "29645", "29710", "29785", "29850", "29926", "29975", "30049", "30072", "30106", "30130", "30163", "30197", "30221", "30296", "30361", "30478", "54981", "30783", "31369", "30791", "30809", "30817", "30825", "30833", "30841", "30858", "30866", "30874", "31377", "30882", "30890", "30908", "30916", "30924", "30932", "30940", "30957", "30965", "30973", "30981", "61473", "31385", "30999", "31005", "31401", "31013", "55061", "31039", "31047", "55079", "69500", "31062", "31070", "31088", "31096", "31104"]],
    ["PSTAT", ["41400", "41517", "41525", "41673", "41756", "41863", "41871", "41988", "42028", "42150", "42200", "42275", "42374", "42432", "42481", "42523", "59097", "42622", "42689", "42739", "42788", "42838", "42879", "42937", "42978", "59014", "43059", "43091", "43141", "43158", "59055", "43166", "43208"]],
    ["POL S", ["40071", "40147", "58198", "40378", "40477", "58289", "40576", "59808", "58271", "58495", "58313", "58321", "58404", "58420", "58438", "58487", "58594", "41053", "58453", "41061", "41079", "41087", "41103", "41111", "41129"]],
    ["SOC", ["45682", "45690", "45708", "45716", "45724", "45732", "45740", "45757", "45765", "45773", "45781", "45799", "45815", "45823", "45831", "45856", "45864", "45872", "45880", "45898", "45906", "45914", "46045", "46060", "53272", "53280", "53298", "53306", "53314", "46128", "46136", "46144", "46151", "46169", "46177", "46185", "46193", "46201", "46219", "50633", "50641", "50658", "50666", "50674", "46227", "46235", "46243", "46250", "50708", "50716", "50724", "50732", "50740", "50757", "50781", "50815", "46292", "50823", "53226", "53442", "53570", "56409", "50898", "50922", "50948", "50955", "50971", "50989", "50997", "51003", "46482", "51011", "51029", "46490", "46508", "46516", "46524", "46532", "46540", "46557", "46565", "46573", "46581", "46599", "46607"]]



]
